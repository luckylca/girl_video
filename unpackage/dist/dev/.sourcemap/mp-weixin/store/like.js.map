{"version":3,"file":"like.js","sources":["store/like.js"],"sourcesContent":["import { defineStore } from 'pinia'\nimport { ref, watch } from 'vue'\n\nexport const likeStore = defineStore('like', () => {\n  // 从本地读取数据并初始化 likeList\n  const storedData = uni.getStorageSync('likeList')\n  const likeList = ref(storedData ? JSON.parse(storedData) : [])\n\n  // 添加收藏项\n  const addLikeList = (tempLikeItem) => {\n    likeList.value = [...likeList.value, tempLikeItem]\n  }\n  // 移除最后一个收藏项\n  const removeLikeList = () => {\n    likeList.value = likeList.value.slice(0, -1)\n  }\n\tconst updataLikeList = (list)=>{\r\n\t\tlikeList.value = list\r\n\t}\n  // 监听 likeList 变化，自动保存到本地\n  watch(\n    () => likeList.value,\n    (newVal) => {\n      uni.setStorageSync('likeList', JSON.stringify(newVal))\n    },\n    { deep: true }\n  )\n  return { likeList, addLikeList, removeLikeList,updataLikeList }\n})"],"names":["defineStore","uni","ref","watch"],"mappings":";;AAGY,MAAC,YAAYA,cAAAA,YAAY,QAAQ,MAAM;AAEjD,QAAM,aAAaC,cAAAA,MAAI,eAAe,UAAU;AAChD,QAAM,WAAWC,cAAAA,IAAI,aAAa,KAAK,MAAM,UAAU,IAAI,EAAE;AAG7D,QAAM,cAAc,CAAC,iBAAiB;AACpC,aAAS,QAAQ,CAAC,GAAG,SAAS,OAAO,YAAY;AAAA,EAClD;AAED,QAAM,iBAAiB,MAAM;AAC3B,aAAS,QAAQ,SAAS,MAAM,MAAM,GAAG,EAAE;AAAA,EAC5C;AACF,QAAM,iBAAiB,CAAC,SAAO;AAC9B,aAAS,QAAQ;AAAA,EACjB;AAEAC,gBAAK;AAAA,IACH,MAAM,SAAS;AAAA,IACf,CAAC,WAAW;AACVF,oBAAG,MAAC,eAAe,YAAY,KAAK,UAAU,MAAM,CAAC;AAAA,IACtD;AAAA,IACD,EAAE,MAAM,KAAM;AAAA,EACf;AACD,SAAO,EAAE,UAAU,aAAa,gBAAe,eAAgB;AACjE,CAAC;;"}
{"version":3,"file":"setting.js","sources":["pages/setting/setting.vue","E:/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2V0dGluZy9zZXR0aW5nLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"page-container\">\r\n\t\t<!-- <uni-transition mode-class=\"fade\" :show=\"isShow\"> -->\r\n\t\t\t<view class=\"loginDisplay\" v-if=\"isShow\" id=\"loginDisplay\">\r\n\t\t\t\t<view class=\"down\" style=\"right: 0px;position: fixed;font-size: 40rpx;\" @click=\"loginDisplayDown\">\r\n\t\t\t\t\t❌\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t<image :src=loginSrc mode=\"\" style=\"width: 100%;height: 100%;border-radius: 50%;\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input class=\"accountInput\" type=\"text\" placeholder=\"请输入QQ账号\" maxlength=\"10\" cursor-color=\"black\" @input=\"onKeyInput\" v-model=\"account\"/>\r\n\t\t\t\t<input class=\"passwordInput\" password=\"true\" placeholder=\"请输入密码\" maxlength=\"14\" cursor-color=\"black\" v-model=\"password\"/>\r\n\t\t\t\t<button class=\"loginButton\" @click=\"login\">登录</button>\r\n\t\t\t\t<view class=\"tip\">\r\n\t\t\t\t\t如果未注册则自动注册\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t<!-- </uni-transition> -->\r\n\t\t<!-- <uni-transition mode-class=\"fade\" :show=\"isShow\"> -->\r\n\t\t\t<view class=\"black\" v-show=\"isShow\" @click=\"loginDisplayDown\">\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t<!-- </uni-transition> -->\r\n\t\t<view class=\"loginLayout\" @click=\"loginDisplayOpen\" >\r\n\t\t\t<view class=\"avatar\">\r\n\t\t\t\t<image :src=userSrc mode=\"\" style=\"width: 100%;height: 100%;border-radius: 50%;\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"account\" v-if=\"name\">\r\n\t\t\t\t{{name}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"account\" v-else>\r\n\t\t\t\t请登录\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"layout\">\r\n\t\t\t<view class=\"box1\">\r\n\t\t\t\t<text>自动播放</text>\r\n\t\t\t\t<switch :checked=\"isChecked\" @change=\"onSwitchChange(e)\" class=\"choose\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\" @click=\"openDrawer\">\r\n\t\t\t\t数据源选择\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\" @click=\"likeListOpen\">\r\n\t\t\t\t收藏列表\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\" @click=\"downloadListOpen\">\r\n\t\t\t\t下载列表\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\" @click=\"info\">\r\n\t\t\t\t关于app\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"drawer\">\t\t\t\r\n\t\t\t<uni-drawer ref=\"showRight\" mode=\"right\" :width=\"150\">\r\n\t\t\t  <view class=\"drawer-content\">\r\n\t\t\t\t  <view class=\"checkbox\">\r\n\t\t\t\t\t<uni-data-checkbox class=\"checkbox\" mode=\"list\" v-model=\"value\" :localdata=\"date\" :multiple=\"false\" @change=\"change\"></uni-data-checkbox>\r\n\t\t\t\t  </view>\r\n\t\t\t  </view>\r\n\t\t\t</uni-drawer>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\r\nimport { likeStore } from \"../../store/like\"\nimport {ref} from \"vue\"\r\nconst isChecked = ref(false)\r\nconst showRight = ref(null)\r\nconst value = ref(0)\r\nconst letter = ref(\"L\")\r\nconst date = ref([{\"value\": 0,\"text\": \"小姐姐1\"},{\"value\": 1,\"text\": \"小姐姐2\"},{\"value\": 2,\"text\": \"女大学生\"},{\"value\": 3,\"text\": \"黑丝\"},{\"value\": 4,\"text\": \"cos\"},{\"value\": 5,\"text\": \"白丝\"},{\"value\": 6,\"text\": \"身材\"},{\"value\": 7,\"text\": \"蛇姐\"},{\"value\": 8,\"text\": \"吊带\"},{\"value\": 9,\"text\": \"玉足\"},{\"value\": 10,\"text\": \"汉服\"},{\"value\": 11,\"text\": \"清纯\"},{\"value\": 12,\"text\": \"萝莉\"}])\r\nconst userSrc = ref(\"https://c-ssl.dtstatic.com/uploads/blog/202105/25/20210525121250_5e7ad.thumb.1000_0.jpg\")\r\nconst loginSrc = ref(\"https://c-ssl.dtstatic.com/uploads/blog/202105/25/20210525121250_5e7ad.thumb.1000_0.jpg\")\r\nconst Store = likeStore()\r\nconst isShow = ref(false)\r\nconst account = ref(\"\")\r\nconst password = ref(\"\")\r\nconst name = ref(\"\")\r\nfunction change(){\r\n\tconsole.log(value.value);\r\n\tuni.setStorage({\r\n\t\tkey:\"line\",\r\n\t\tdata:value.value\r\n\t})\r\n}\r\n\r\nfunction info(){\r\n\tuni.navigateTo({\r\n\t\turl: '../info/info',\r\n\t});\r\n}\r\nfunction likeListOpen()\r\n{\r\n\tuni.navigateTo({\r\n\t\turl: '../list/list',\r\n\t});\r\n}\r\nfunction downloadListOpen()\r\n{\r\n\tuni.navigateTo({\r\n\t\turl: '../downloadList/downloadList',\r\n\t});\r\n}\r\nfunction loginDisplayOpen(){\r\n\tisShow.value = true\r\n}\r\nfunction loginDisplayDown()\r\n{\r\n\tisShow.value = false\r\n}\r\nfunction upLikeList(likeList,account)\r\n{\r\n\tuni.request({\r\n\t\turl:\"http://60.204.248.38:1315/api/updateLikeList\",\r\n\t\tdata:{List:likeList,account:account,},\r\n\t\tmethod:'POST'\r\n\t})\r\n}\r\nasync function login()\r\n{\t\r\n\tif(account.value==\"\"||password.value==\"\")\r\n\t{\r\n\t\tuni.showToast({ title: '请输入账号和密码', icon: 'none',duration:2000});\r\n\t\treturn\r\n\t}\r\n\t\r\n\t// uni.showLoading({ title: '正在登录...' });\r\n\tif(Object.keys(Store.userData).length > 0)\r\n\t{\r\n\t\tawait upLikeList(Store.likeList,Store.userData.account)\r\n\t\tStore.updataUserData({})//清空原先登录信息\r\n\t}\r\n\t\r\n\tconst data = await uni.request({\r\n\t\turl:\"http://60.204.248.38:1315/api/login\",\r\n\t\tdata:{account:account.value,password:password.value},\r\n\t\tmethod:'POST'\r\n\t})\r\n\t// uni.hideLoading()\r\n\tconsole.log(data);\r\n\tif(data.data.code==500)\r\n\t{\r\n\t\tuni.showToast({\r\n\t\t\ttitle:'登录成功',icon:\"none\",duration:2000\r\n\t\t})\r\n\t\tisShow.value = false\r\n\t\tname.value = data.data.name\r\n\t\tuserSrc.value = \"http://q.qlogo.cn/headimg_dl?dst_uin=\" + data.data.account + \"&spec=640&img_type=jpg\"\r\n\t\tlet userData = {\r\n\t\t\tname:name.value,\r\n\t\t\taccount:data.data.account,\r\n\t\t\tpassword:data.data.password,\r\n\t\t\tsrc:userSrc.value,\r\n\t\t}\r\n\t\tconsole.log(data.data);\r\n\t\tStore.updataUserData(userData)\r\n\t\tStore.updataLikeList(data.data.list)\r\n\t}\r\n\tif(data.data.code==302)\r\n\t{\r\n\t\tuni.showToast({\r\n\t\t\ttitle:'账号或者密码错误',icon:\"none\",duration:2000\r\n\t\t})\r\n\t}\r\n\tif(data.data.code==501)\r\n\t{\r\n\t\tuni.showToast({\r\n\t\t\ttitle:'已为你注册账号',icon:\"none\",duration:2000\r\n\t\t})\r\n\t\tname.value = data.name\r\n\t\tisShow.value = false\r\n\t\tStore.updataLikeList(data.list)\r\n\t}\r\n\t\r\n\t\r\n}\r\nfunction onKeyInput(e)\r\n{\r\n\tgetQQSrc(e.detail.value)\r\n}\r\nfunction getQQSrc(qq)\r\n{\t\r\n\tlet url = \"http://q.qlogo.cn/headimg_dl?dst_uin=\" + qq + \"&spec=640&img_type=jpg\"\r\n\tloginSrc.value = url\r\n}\r\nfunction onSwitchChange(){\r\n\t\r\n\tisChecked.value =! isChecked.value\r\n\t\r\n\tuni.setStorage({\r\n\t\tkey:\"autoplay\",\r\n\t\tdata:isChecked.value\r\n\t})\r\n\tconsole.log(isChecked.value);\r\n}\t\r\n\r\nfunction openDrawer(){\r\n\tshowRight.value.open()\r\n}\n\t\n</script>\n\n<style lang=\"scss\" scoped>\r\n.black{\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tz-index: 999;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n.loginDisplay{\r\n\twidth: 600rpx;\r\n\theight: 800rpx;\r\n\tposition: fixed;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%,-50%);\r\n\tbackground-color: white;\r\n\tz-index: 1000;\r\n\tdisplay: block;\r\n\tborder-radius: 10px;\r\n\t.avatar{\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tobject-fit: contain;\r\n\t\t// border: 1px solid red;\r\n\t\tcolor: black;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground-color: rgb(137, 207, 240);\r\n\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n\t\tfont-size: 90rpx;\r\n\t\tmargin: 40rpx auto;\r\n\t}\r\n\t.accountInput{\r\n\t\twidth: 450rpx;\r\n\t\theight: 80rpx;\r\n\t\tpadding-left: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 20rpx auto;\r\n\t\tmargin-top: 50rpx;\r\n\t\tcolor: black;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 6px;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0 0 0 3px rgba(0,123,255,0.1);\r\n\t}\r\n\t.passwordInput{\r\n\t\twidth: 450rpx;\r\n\t\theight: 80rpx;\r\n\t\tpadding-left: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 40rpx auto;\r\n\t\tcolor: black;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 6px;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0 0 0 3px rgba(0,123,255,0.1);\r\n\t}\r\n\t.loginButton{\r\n\t\twidth: 450rpx;\r\n\t\tmargin-top: 60rpx;\r\n\t}\r\n\t.tip{\r\n\t\tcolor: black;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 20rpx;\r\n\t\topacity: 0.6;\r\n\t}\r\n}\r\n.loginLayout{\r\n\t// border:1rpx solid red;\r\n\tdisplay: flex;\r\n\twidth:250rpx;\r\n\theight: 300rpx;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tflex-direction: column;\r\n\t.avatar{\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tobject-fit: contain;\r\n\t\t// border: 1px solid red;\r\n\t\tcolor: black;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground-color: rgb(137, 207, 240);\r\n\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n\t\tfont-size: 90rpx;\r\n\t}\r\n\t.account{\r\n\t\tmargin-top: 20rpx;\r\n\t\tcolor: #000;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n.layout{\r\n\tpadding-top: 50rpx;\r\n\r\n\t.box{\r\n\t\t\r\n\t\tborder-radius: 15rpx;\r\n\t\twidth: 700rpx;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\theight: 110rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\r\n\t\tfont-size: 35rpx;\r\n\t\tcolor: black;\r\n\r\n\t}\r\n\t.box1{\r\n\t\tborder-radius: 15rpx;\r\n\t\twidth: 700rpx;\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tmargin-bottom: 40rpx;\r\n\t\theight: 110rpx;\r\n\t\tbox-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding-left: 20px;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 35rpx;\r\n\t\tposition: relative;\r\n\t\tcolor: black;\r\n\t\t.choose{\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 0;\r\n\t\t}\r\n\t}\r\n}\n.checkbox{\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\r\n}      \r\n.page-container {\n  position: relative;\n  width: 100%;\n  height: 100vh; /* 使用视窗单位确保全屏 */\n  color: white; /* 文字颜色设为白色以便于阅读 */\n}\n\n/* 使用 ::before 伪元素添加半透明背景图像 */\n.page-container::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url('../../static/background.jpg'); /* 背景图片路径 */\n  background-size: cover;\n  background-position: center;\n  opacity: 0.3; /* 设置透明度 */\n  z-index: -1; /* 确保背景位于文本下方 */\n}\n</style>\n","import MiniProgramPage from 'C:/Users/lucky/Desktop/girl/pages/setting/setting.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","likeStore","uni","account"],"mappings":"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"}
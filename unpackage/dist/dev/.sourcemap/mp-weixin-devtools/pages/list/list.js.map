{"version":3,"names":["Store","store_like","likeStore","likeList","common_vendor","ref","isHover","isVideoPlay","videoUrl","ischange","offsetmap","currentId","touchStartPosition","touchMovingPosition","value","Array","from","length","_","index","offset","__f__","ontouchstart","e","touches","screenX","ontouchmove","changedTouches","detTouch","ontouchend","threshold","id","ended","wx","createPage","MiniProgramPage"],"sources":["list.vue","E:/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbGlzdC9saXN0LnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"layout\">\r\n\t\t<view class=\"videoList\">\r\n<!-- \t\t\t<view class=\"ListItem\" v-for=\"item in likeList\" @click=\"enterVideo(item.id)\" :key=\"item.id\">\r\n\t\t\t\t<span>{{item.title}}</span>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"ListItem\" :style=\"{ transform: 'translateX(' + (offsetMap[item.id] || 0) + 'px)' }\" :class=\"{'change':ischange}\" v-for=\"item in likeList\" @touchstart=\"(e)=>ontouchstart(e,item.id)\" @touchmove=\"(e)=>ontouchmove(e,item.id)\" @touchend=\"(e)=>ontouchend(e,item.id)\" :key=\"item.id\">\r\n\t\t\t\t<span>{{item.title}}</span>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"videoContiner\" v-show=\"isVideoPlay\">\r\n\t\t\t<video :src=videoUrl style=\"width: 100%;height: 100%;\" autoplay=\"true\" @ended=\"end\"></video>\r\n\t\t</view>\t\t\t\r\n\t</view>\r\n\t<view class=\"black\" v-show=\"isHover\" @click=\"ended\">\r\n\t\t\r\n\t</view>\n</template>\n\n<script setup>\r\nimport { likeStore } from '../../store/like';\r\nimport { ref } from \"vue\";\r\nconst Store = likeStore()\r\nconst likeList = ref([])\r\nconst isHover = ref(false)\r\nconst videoIndex = ref(0)\r\nconst isVideoPlay = ref(false)\r\nconst videoUrl = ref(\"\")\r\nconst ischange = ref(false)\r\nconst offsetmap = ref([])\r\nlet currentId = -1\r\nlet touchStartPosition =0\r\nlet touchMovingPosition = 0\r\nlikeList.value = Store.likeList\r\noffsetmap.value = Array.from({ length: likeList.value.length }, (_, index) => ({\n  index,\n  offset: 0\n}));\r\nconsole.log(offsetmap.value);\r\n// const enterVideo = (id) =>{\r\n// \tisVideoPlay.value = true\r\n// \tvideoUrl.value = likeList.value[id].url\r\n// \tisHover.value = true\r\n// }\r\n\r\nfunction ontouchstart(e,index)\r\n{\t\r\n\ttouchStartPosition = e.touches[0].screenX\r\n\tcurrentId=index\r\n\tconsole.log(e.touches[0].screenX);\r\n}\r\n\r\nfunction ontouchmove(e,index)\r\n{\t\r\n\tif(index!=currentId)return\r\n\ttouchMovingPosition = e.changedTouches[0].screenX\r\n\tconst detTouch = touchStartPosition-touchMovingPosition\r\n\tif(detTouch>0)\r\n\t{offsetmap.value[index].offset = detTouch}\r\n\tconsole.log(e.changedTouches[0].screenX);\r\n}\r\n\r\nfunction ontouchend(e,index)\r\n{\t\r\n\t  const threshold = -100\r\n\t  if (offsetmap.value[id].offset < threshold) {\r\n\t    // 完全滑出屏幕\r\n\t    offsetmap.value[id].offset = -200\r\n\t  } else {\r\n\t    // 回弹\r\n\t    offsetmap.value[id].offset = 0\r\n\t  }\r\n\r\n\t  currentId = -1\r\n\tconsole.log(e.changedTouches[0].screenX);\r\n}\r\n\r\nconst ended = ()=>{\r\n\tisVideoPlay.value = false\r\n\tisHover.value = false\r\n}\r\n\r\n</script>\n\n<style scoped>\r\n.layout{\r\n\twidth: 100%;\r\n\theight: 100vh;\r\n\tposition: relative;\r\n\tpadding-top: 20rpx;\r\n}\r\n.change{\r\n\ttransform: translateX(1);\r\n}\r\n\r\n.videoContiner{\r\n\twidth: 600rpx;\r\n\theight: 80vh;\r\n\tposition: fixed;\r\n\ttop:10vh;\r\n\tleft:75rpx;\r\n\tz-index: 1000;\r\n\r\n}\r\n.videoList{\r\n\r\n\t\r\n}\r\n.ListItem{\r\n\twidth: 600rpx;\r\n\theight: 180rpx;\r\n\tmargin: 20rpx auto;\r\n\tpadding: auto 0;\r\n\ttext-align: center;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tflex-direction: column;\r\n\tborder-radius: 12px; /* 圆润边角 */\r\n\tborder: 1px solid rgba(0, 0, 0, 0.05); /* 极简细边框 */\r\n\tbox-shadow: \r\n\t0 4px 6px rgba(0, 0, 0, 0.05),   /* 主阴影 */\r\n\t0 1px 3px rgba(0, 0, 0, 0.1);    /* 次级阴影 */\r\n}\r\n.black{\r\n\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\tz-index: 999;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\t\n</style>\r\n","import MiniProgramPage from 'C:/Users/lucky/Desktop/girl/pages/list/list.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;IAsBA,IAAMA,KAAA,GAAQC,UAAA,CAAAC,SAAA,EAAW;IACzB,IAAMC,QAAA,GAAWC,aAAA,CAAGC,GAAA,CAAC,EAAE;IACvB,IAAMC,OAAA,GAAUF,aAAA,CAAGC,GAAA,CAAC,KAAK;IACND,aAAA,CAAGC,GAAA,CAAC,CAAC;IACxB,IAAME,WAAA,GAAcH,aAAA,CAAGC,GAAA,CAAC,KAAK;IAC7B,IAAMG,QAAA,GAAWJ,aAAA,CAAGC,GAAA,CAAC,EAAE;IACvB,IAAMI,QAAA,GAAWL,aAAA,CAAGC,GAAA,CAAC,KAAK;IAC1B,IAAMK,SAAA,GAAYN,aAAA,CAAGC,GAAA,CAAC,EAAE;IACxB,IAAIM,SAAA,GAAY;IAChB,IAAIC,kBAAA,GAAoB;IACxB,IAAIC,mBAAA,GAAsB;IAC1BV,QAAA,CAASW,KAAA,GAAQd,KAAA,CAAMG,QAAA;IACvBO,SAAA,CAAUI,KAAA,GAAQC,KAAA,CAAMC,IAAA,CAAK;MAAEC,MAAA,EAAQd,QAAA,CAASW,KAAA,CAAMG;IAAM,GAAI,UAACC,CAAA,EAAGC,KAAA;MAAA,OAAW;QAC7EA,KAAA,EAAAA,KAAA;QACAC,MAAA,EAAQ;MACV;IAAA,CAAE;IACFhB,aAAA,CAAAe,KAAA,CAAAE,KAAA,qCAAYX,SAAA,CAAUI,KAAK;IAO3B,SAASQ,aAAaC,CAAA,EAAEJ,KAAA,EACxB;MACCP,kBAAA,GAAqBW,CAAA,CAAEC,OAAA,CAAQ,CAAC,EAAEC,OAAA;MAClCd,SAAA,GAAUQ,KAAA;MACVf,aAAA,CAAAe,KAAA,CAAAE,KAAA,qCAAYE,CAAA,CAAEC,OAAA,CAAQ,CAAC,EAAEC,OAAO;IACjC;IAEA,SAASC,YAAYH,CAAA,EAAEJ,KAAA,EACvB;MACC,IAAGA,KAAA,IAAOR,SAAA,EAAU;MACpBE,mBAAA,GAAsBU,CAAA,CAAEI,cAAA,CAAe,CAAC,EAAEF,OAAA;MAC1C,IAAMG,QAAA,GAAWhB,kBAAA,GAAmBC,mBAAA;MACpC,IAAGe,QAAA,GAAS,GACZ;QAAClB,SAAA,CAAUI,KAAA,CAAMK,KAAK,EAAEC,MAAA,GAASQ,QAAA;MAAQ;MACzCxB,aAAA,CAAAe,KAAA,CAAYE,KAAA,qCAAAE,CAAA,CAAEI,cAAA,CAAe,CAAC,EAAEF,OAAO;IACxC;IAEA,SAASI,WAAWN,CAAA,EAAEJ,KAAA,EACtB;MACG,IAAMW,SAAA,GAAY;MAClB,IAAIpB,SAAA,CAAUI,KAAA,CAAMiB,EAAE,EAAEX,MAAA,GAASU,SAAA,EAAW;QAE1CpB,SAAA,CAAUI,KAAA,CAAMiB,EAAE,EAAEX,MAAA,GAAS;MAClC,OAAU;QAELV,SAAA,CAAUI,KAAA,CAAMiB,EAAE,EAAEX,MAAA,GAAS;MAC9B;MAEDT,SAAA,GAAY;MACdP,aAAA,CAAAe,KAAA,CAAYE,KAAA,qCAAAE,CAAA,CAAEI,cAAA,CAAe,CAAC,EAAEF,OAAO;IACxC;IAEA,IAAMO,KAAA,GAAQ,SAARA,MAAA,EAAY;MACjBzB,WAAA,CAAYO,KAAA,GAAQ;MACpBR,OAAA,CAAQQ,KAAA,GAAQ;IACjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EAmB,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}
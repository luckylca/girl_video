{"version":3,"names":["url","common_vendor","ref","index","urls","isautoplay","isAni","islike","likeList","title","Store","store_like","likeStore","value","like","Object","keys","userData","length","showToast","duration","tempLikeItem","id","__f__","addLikeList","removeLikeList","downloadVideo","_downloadVideo","apply","arguments","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","res","data","wrap","_callee$","_context","prev","next","showLoading","downloadFile","sent","statusCode","saveFile","tempFilePath","icon","savedFilePath","addDownloadTitleList","downloadTitleList","hideLoading","stop","getStorageSync","key","Promise","resolve","reject","getStorage","success","fail","err","get_video","_get_video","_callee2","_callee2$","_context2","showNavigationBarLoading","request","then","finally","hideNavigationBarLoading","setTimeout","end","onMounted","wx","createComponent","Component"],"sources":["basic.vue","E:/HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvbHVja3kvRGVza3RvcC9naXJsL2NvbXBvbmVudHMvYmFzaWMvYmFzaWMudnVl"],"sourcesContent":["<template>\n\t<view class=\"layout\">\r\n\t\t<view class=\"video\">\r\n\t\t\t<video ref=\"videoPlayer\" :src=\"url\" autoplay=\"true\" enable-play-gesture=\"true\" @ended=\"end\"></video>\r\n\t\t</view>\r\n\t\t<view class=\"toolBar\">\r\n\t\t\t<view class=\"like\" v-if=\"!islike\">\r\n\t\t\t\t<image src=\"/static/basic/收藏.png\" style=\"width: 100%;height: 100%;\" @click=\"like\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"likeed\" v-else>\r\n\t\t\t\t<image src=\"/static/basic/已收藏.png\" style=\"width: 100%;height: 100%;\" @click=\"like\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"text\" :class=\"{ani:isAni}\" id=\"text\" @click=\"get_video\">\r\n\t\t\t\t下一个\r\n\t\t\t</view>\r\n\t\t\t<view class=\"download\">\r\n\t\t\t\t<image src=\"/static/basic/下载.png\" style=\"width: 100%;height: 100%;\" @click=\"downloadVideo\"></image>\r\n\t\t\t</view>\r\n\t\t</view>\t\r\n\t</view>\r\n\n</template>\n\n<script setup>\r\nimport { likeStore } from '../../store/like';\r\nimport { ref, onBeforeMount, onMounted } from 'vue';\r\n\r\nconst url = ref(\"https://alimov2.a.kwimgs.com/upic/2023/03/14/07/BMjAyMzAzMTQwNzMyMDRfMzEyNDcxOTkyNF85ODE2OTI5OTUxM18xXzM=_b_B48c337e8ee1a614653d500c9c3c6cf2c.mp4?clientCacheKey=3xhiww7s3qui8ng_b.mp4&tt=b&di=b72e16c7&bp=13414\\n\")\r\nlet index = 0\r\nconst urls = [\n    \"http://api.yujn.cn/api/zzxjj.php?type=json\",\n    \"http://api.yujn.cn/api/xjj.php?type=json\",\n    \"https://api.yujn.cn/api/nvda.php?type=json\",\n    \"http://api.yujn.cn/api/heisis.php?type=json\",\n    \"https://api.yujn.cn/api/manzhan.php?type=json\",\n    \"http://api.yujn.cn/api/baisis.php?type=json\",\n    \"http://api.yujn.cn/api/wmsc.php?type=json\",\n    \"http://api.yujn.cn/api/shejie.php?type=json\",\n    \"http://api.yujn.cn/api/diaodai.php?type=json\",\n    \"http://api.yujn.cn/api/jpmt.php?type=json\",\n    \"http://api.yujn.cn/api/hanfu.php?type=json\",\n    \"http://api.yujn.cn/api/qingchun.php?type=json\",\n    \"http://api.yujn.cn/api/luoli.php?type=json\"\n];\r\nconst isautoplay = ref(false)\r\nconst videoPlayer = ref(null);\r\nconst isAni = ref(false)\r\nconst islike = ref(false)\r\nconst likeList = ref([])\r\nconst title = ref(\"\")\r\n\r\nconst Store = likeStore()\r\nlikeList.value = Store.likeList\r\nfunction like(){\r\n\tislike.value = !islike.value\r\n\tif(islike.value)\r\n\t{\t\r\n\t\tif(Object.keys(Store.userData).length > 0)\r\n\t\t{\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle:\"你还没有登录，数据将保存在本地\",\r\n\t\t\t\tduration:1000\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst tempLikeItem = {\r\n\t\t\tid:0,\r\n\t\t\turl:\"\",\r\n\t\t\ttitle:\"\"\r\n\t\t}\r\n\t\ttempLikeItem.id = Store.likeList.length\r\n\t\ttempLikeItem.url = url.value\r\n\t\ttempLikeItem.title = title.value\r\n\t\tconsole.log(Store.likeList);\r\n\t\tStore.addLikeList(tempLikeItem)\r\n\t}\r\n\telse\r\n\t{\r\n\t\tStore.removeLikeList()\r\n\t}\r\n\tconsole.log(Store.likeList);\r\n}\r\nasync function downloadVideo()\r\n{\r\n\tuni.showLoading()\r\n\tconst res =await uni.downloadFile({\r\n\t\turl:url.value,\r\n\t})\r\n\tif(res.statusCode==200)\r\n\t{\r\n\t\tconst data = await uni.saveFile({\r\n\t\t\ttempFilePath:res.tempFilePath,\r\n\t\t})\r\n\t\tuni.showToast({\r\n\t\t\ttitle:\"保存成功\",icon:'none',\r\n\t\t\tduration:1000\r\n\t\t})\r\n\t\tconsole.log(data.savedFilePath);\r\n\t\tStore.addDownloadTitleList(title.value)\r\n\t\tconsole.log(Store.downloadTitleList);\r\n\t\tuni.hideLoading()\r\n\t}\r\n}\r\nfunction getStorageSync(key) {\n    return new Promise((resolve, reject) => {\n        uni.getStorage({\n            key: key,\n            success(res) {\n                resolve(res.data);\n            },\n            fail(err) {\n                reject(err);\n            }\n        });\n    });\n}\r\n\r\nasync function get_video(){\r\n\tisAni.value = true\r\n\tislike.value = false\r\n\tisautoplay.value = await getStorageSync('autoplay');\r\n\tindex = await getStorageSync('line');\r\n\tuni.showNavigationBarLoading()\r\n\tconst res = await uni.request({\r\n\t\turl:urls[index],\r\n\t}).then(res=>{\r\n\t\turl.value=res.data.data\r\n\t\ttitle.value = res.data.title\r\n\t}).finally(()=>{\r\n\t\tuni.hideNavigationBarLoading()\r\n\t\tuni.hideLoading()\r\n\t})\r\n\tsetTimeout(()=>{\r\n\t\tisAni.value = false\r\n\t},300)\r\n\r\n}\r\n\r\nfunction end(){\r\n\t\r\n\tif(isautoplay.value===true)\r\n\t{\r\n\t\tget_video()\r\n\t}\r\n\telse if(isautoplay.value===false)\r\n\t{\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\nonMounted(()=>{\r\n\tlikeList.value = uni.getStorageSync('like')\r\n})\r\n\r\n\r\n\n</script>\n\n<style lang=\"scss\" scoped>\r\n@keyframes anima\r\n{\r\n\t0%{transform: scale(1);}\r\n\t25%{transform: scale(0.9);}\r\n\t75%{transform: scale(1.1);}\r\n\t100%{transform: scale(1);}\r\n}\r\n\r\n.layout{\r\n\t\r\n\t.video{\r\n\t\tmargin-left: auto;\r\n\t\tmargin-right: auto;\r\n\t\tmargin-top: 40rpx;\r\n\t\twidth: 600rpx;\r\n\t\theight: 70vh;\r\n\t\tbox-shadow: 10px 10px 20px rgba(0, 0, 0, 0.3), -10px -10px 20px rgba(255, 255, 255, 0.3);\r\n\t\tvideo{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tobject-fit: contain;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n\t\t.text{\r\n\t\t\tborder:1px solid #ccc;\r\n\t\t\twidth: 400rpx;\r\n\t\t\theight: 7vh;\r\n\t\t\tmargin-left: 10rpx;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\t\r\n\t\t\tfont-size: 38rpx;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t}\r\n\t\t.text:hover{\r\n\t\t\tbox-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n\t\t}\r\n\t\t.ani{\r\n\t\t\tanimation: anima 0.3s ease-in-out;\r\n\t\t}\r\n\t.toolBar{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 40rpx;\r\n\t\t.like{\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t}\r\n\t\t.likeed{\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t}\r\n\t\t.download{\r\n\t\t\twidth: 100rpx;\r\n\t\t\theight: 100rpx;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\n\n</style>","import Component from 'C:/Users/lucky/Desktop/girl/components/basic/basic.vue'\nwx.createComponent(Component)"],"mappings":"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","ignoreList":[]}